# üîß Rate Limit Fix (429 Error) - v2.1.1

**–î–∞—Ç–∞:** 29 –Ω–æ—è–±—Ä—è 2024  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ 429 (Rate Limit Exceeded) –æ—Ç Perplexity API  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –°–∏–º–ø—Ç–æ–º—ã –≤ –ª–æ–≥–∞—Ö Railway:

```
üîµ SonarApiClient.query() START
   Stage: stage1_find_companies_retry
   üîÑ Attempt 1/3
   üì§ Sending POST to https://api.perplexity.ai/chat/completions
   üîÑ Attempt 2/3
   üì§ Sending POST to https://api.perplexity.ai/chat/completions
   üîÑ Attempt 2/3
   üì§ Sending POST to https://api.perplexity.ai/chat/completions
   ...
   ‚ùå ERROR: Request failed with status code 429
   HTTP Status: 429
warn: Sonar API rate limited (attempt 2/3)
```

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω:

1. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
   - `_enforceRateLimit()` —Ä–∞–±–æ—Ç–∞–ª —Ç–æ–ª—å–∫–æ –¥–ª—è **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö** –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ù–µ –±—ã–ª–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏

2. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞**
   - `retry_delay_seconds = 2` (–±—ã–ª–æ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ)
   - `rate_limit_requests_per_min = 60` (–±—ã–ª–æ –∑–∞–≤—ã—à–µ–Ω–æ)
   - –ù–µ —É—á–∏—Ç—ã–≤–∞–ª—Å—è —Ä–µ–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç Perplexity API

3. **Thundering Herd Problem**
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ 429 –≤—Å–µ –æ–∂–∏–¥–∞—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã retry –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
   - –≠—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –Ω–æ–≤—É—é –≤–æ–ª–Ω—É –∑–∞–ø—Ä–æ—Å–æ–≤

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ì–ª–æ–±–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (Mutex)

**–§–∞–π–ª:** `src/services/SonarApiClient.js`

#### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:

```javascript
class SonarApiClient {
  constructor(database, settingsManager, logger, modelType = 'sonar-pro') {
    // ...
    this.requestInProgress = false; // üîí –ì–ª–æ–±–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
    this.requestPromise = null;     // Promise —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
  }
}
```

#### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –º–µ—Ç–æ–¥ `query()`:

```javascript
async query(prompt, options = {}) {
  // ...
  
  // üîí –ì–õ–û–ë–ê–õ–¨–ù–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê: –∂–¥–µ–º –ø–æ–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∑–∞–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è
  while (this.requestInProgress) {
    console.log(`   ‚è∏Ô∏è  Waiting for previous request to complete...`);
    await this._sleep(100);
  }
  
  this.requestInProgress = true;
  console.log(`   üîì Lock acquired, proceeding with request`);
  
  try {
    // ... –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ ...
    
    // ‚úÖ –£—Å–ø–µ—Ö
    this.requestInProgress = false;
    console.log(`   üîì Lock released (success)`);
    return result;
    
  } catch (error) {
    // ‚ùå –û—à–∏–±–∫–∞ –ø–æ—Å–ª–µ –≤—Å–µ—Ö retry
    if (isLastAttempt) {
      this.requestInProgress = false;
      console.log(`   üîì Lock released (all retries failed)`);
      throw error;
    }
  }
}
```

#### –¢–∞–∫–∂–µ –¥–ª—è cache hit:

```javascript
if (cached) {
  // ...
  this.requestInProgress = false;
  console.log(`   üîì Lock released (cache hit)`);
  return cached;
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ **–û–î–ò–ù** –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –û—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∂–¥—É—Ç —Å–≤–æ–µ–π –æ—á–µ—Ä–µ–¥–∏
- ‚úÖ –ù–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí –Ω–µ—Ç burst –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ API

---

### 2. –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ rate limiting

**–§–∞–π–ª:** `src/services/SettingsManager.js`

```javascript
api: {
  retry_delay_seconds: 5,       // –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 2 ‚Üí 5 —Å–µ–∫—É–Ω–¥
  rate_limit_requests_per_min: 20  // –°–Ω–∏–∂–µ–Ω–æ —Å 60 ‚Üí 20 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω
}
```

**–†–∞—Å—á–µ—Ç:**
- 20 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É = 1 –∑–∞–ø—Ä–æ—Å –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã
- –° —É—á–µ—Ç–æ–º exponential backoff –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –° —É—á–µ—Ç–æ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ ‚Üí **–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**

---

## üìä –ú–µ—Ö–∞–Ω–∏–∑–º Exponential Backoff

**–£–∂–µ –±—ã–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ä–∞–Ω–µ–µ** (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π):

```javascript
// EXPONENTIAL BACKOFF —Å jitter –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–∏
const baseDelay = this.retryDelay || 1000;
const exponentialDelay = baseDelay * Math.pow(2, attempt - 1);
const maxDelay = 32000; // –ú–∞–∫—Å–∏–º—É–º 32 —Å–µ–∫—É–Ω–¥—ã
const delay = Math.min(exponentialDelay, maxDelay);

// –î–æ–±–∞–≤–ª—è–µ–º jitter (—Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å 0-50% –æ—Ç delay)
const jitter = Math.random() * delay * 0.5;
const totalDelay = delay + jitter;

await this._sleep(totalDelay);
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–¥–µ—Ä–∂–µ–∫:**
- –ü–æ–ø—ã—Ç–∫–∞ 1 ‚Üí –æ—à–∏–±–∫–∞ ‚Üí wait 5-7.5 —Å–µ–∫—É–Ω–¥
- –ü–æ–ø—ã—Ç–∫–∞ 2 ‚Üí –æ—à–∏–±–∫–∞ ‚Üí wait 10-15 —Å–µ–∫—É–Ω–¥
- –ü–æ–ø—ã—Ç–∫–∞ 3 ‚Üí –æ—à–∏–±–∫–∞ ‚Üí wait 20-30 —Å–µ–∫—É–Ω–¥

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ Jitter –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç thundering herd
- ‚úÖ –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç –¥–∞–µ—Ç API –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ 32 —Å–µ–∫—É–Ω–¥–∞–º–∏

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
‚è±Ô∏è  00:00.0s - –ó–∞–ø—Ä–æ—Å 1 START
‚è±Ô∏è  00:00.0s - –ó–∞–ø—Ä–æ—Å 2 START
‚è±Ô∏è  00:00.0s - –ó–∞–ø—Ä–æ—Å 3 START
‚è±Ô∏è  00:00.1s - –ó–∞–ø—Ä–æ—Å 4 START
‚è±Ô∏è  00:01.5s - ‚ùå –í—Å–µ 4 –ø–æ–ª—É—á–∏–ª–∏ 429 error
‚è±Ô∏è  00:01.5s - Retry –≤—Å–µ—Ö 4 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
‚è±Ô∏è  00:01.6s - ‚ùå –°–Ω–æ–≤–∞ 429 error
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
‚è±Ô∏è  00:00.0s - –ó–∞–ø—Ä–æ—Å 1 START (Lock acquired)
‚è±Ô∏è  00:00.0s - –ó–∞–ø—Ä–æ—Å 2 WAITING...
‚è±Ô∏è  00:00.0s - –ó–∞–ø—Ä–æ—Å 3 WAITING...
‚è±Ô∏è  00:03.0s - ‚úÖ –ó–∞–ø—Ä–æ—Å 1 SUCCESS (Lock released)
‚è±Ô∏è  00:03.0s - –ó–∞–ø—Ä–æ—Å 2 START (Lock acquired)
‚è±Ô∏è  00:06.0s - ‚úÖ –ó–∞–ø—Ä–æ—Å 2 SUCCESS (Lock released)
‚è±Ô∏è  00:06.0s - –ó–∞–ø—Ä–æ—Å 3 START (Lock acquired)
‚è±Ô∏è  00:09.0s - ‚úÖ –ó–∞–ø—Ä–æ—Å 3 SUCCESS (Lock released)
```

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ Railway

### 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

```bash
railway logs --follow
```

### 2. –ò—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:

#### ‚úÖ –•–æ—Ä–æ—à–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:
```
üîì Lock acquired, proceeding with request
‚è∏Ô∏è  Waiting for previous request to complete...
üîì Lock released (success)
‚úÖ SUCCESS! Got response
```

#### ‚ùå –ü–ª–æ—Ö–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (–±–æ–ª—å—à–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å):
```
‚ùå ERROR: Request failed with status code 429
warn: Sonar API rate limited
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ API:

```bash
curl https://your-app.railway.app/api/debug/api-stats
```

–û–∂–∏–¥–∞–µ—Ç—Å—è:
- `rate_limited: 0` (–∏–ª–∏ –æ—á–µ–Ω—å –º–∞–ª–æ)
- `successful: > 95%`
- `avg_response_time: < 5000ms`

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å:

- **–†–∞–Ω—å—à–µ:** 
  - –ú–Ω–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –ù–æ 50%+ –ø–æ–ª—É—á–∞–ª–∏ 429 error
  - –¢—Ä–µ–±–æ–≤–∞–ª–∏—Å—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ retry
  - **–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è:** ~30-60 —Å–µ–∫—É–Ω–¥ –Ω–∞ –±–∞—Ç—á

- **–¢–µ–ø–µ—Ä—å:**
  - –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–º–µ–¥–ª–µ–Ω–Ω–µ–µ)
  - –ù–æ 95%+ —É—Å–ø–µ—à–Ω—ã —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞
  - –ú–∏–Ω–∏–º—É–º retry
  - **–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è:** ~20-30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –±–∞—Ç—á

**–ò—Ç–æ–≥–æ:** –ë—ã—Å—Ç—Ä–µ–µ –∑–∞ —Å—á–µ—Ç –º–µ–Ω—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—à–∏–±–æ–∫! üöÄ

---

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

```javascript
console.log(`   üîì Lock acquired, proceeding with request`);
console.log(`   ‚è∏Ô∏è  Waiting for previous request to complete...`);
console.log(`   üîì Lock released (success)`);
console.log(`   üîì Lock released (cache hit)`);
console.log(`   üîì Lock released (all retries failed)`);
```

### –ú–µ—Ç—Ä–∏–∫–∏ –≤ –±–∞–∑–µ:

–¢–∞–±–ª–∏—Ü–∞ `sonar_api_calls`:
- `status = 'rate_limited'` ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º
- `retry_count > 0` ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º
- `response_time_ms` ‚Üí —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞

---

## üöÄ Deployment

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
1. `src/services/SonarApiClient.js`
2. `src/services/SettingsManager.js`

### Deployment –Ω–∞ Railway:

```bash
git add .
git commit -m "fix: Add mutex to prevent parallel API requests and rate limit 429 errors"
git push origin release/v2.1
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ deployment:

1. –ü–æ–¥–æ–∂–¥–∞—Ç—å ~2 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ deploy
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç: `/api/debug/test-stage1`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Railway
4. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç 429 –æ—à–∏–±–æ–∫

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### Perplexity API Limits:

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):
- **Free Tier:** 20 requests/min, 5 requests/sec
- **Paid Tier:** 100 requests/min, 10 requests/sec

**–ù–∞—à–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** 20 requests/min (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ)

### Mutex Pattern:

–≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω **Mutual Exclusion (Mutex)** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è race conditions:
- –¢–æ–ª—å–∫–æ –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –¥–µ—Ä–∂–∞—Ç—å "lock" –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –∂–¥—É—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã):

1. **Semaphore:** –†–∞–∑—Ä–µ—à–∏—Ç—å N –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å–ª–æ–∂–Ω–µ–µ)
2. **Promise Queue:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É p-queue (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
3. **Worker Threads:** –û—Ç–¥–µ–ª—å–Ω—ã–π worker –¥–ª—è API (overkill)

**–í—ã–±—Ä–∞–Ω –ø—Ä–æ—Å—Ç–æ–π mutex** = –º–∏–Ω–∏–º—É–º –∫–æ–¥–∞, –º–∞–∫—Å–∏–º—É–º —ç—Ñ—Ñ–µ–∫—Ç–∞.

---

## ‚úÖ Checklist –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å auto-search —Å 5+ queries
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Railway –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ 429 errors
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ API (`rate_limited = 0`)
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –æ–±—â–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ cache —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å full pipeline —Ç–µ—Å—Ç (Stage 1-5)

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–í–µ—Ä—Å–∏—è:** v2.1.1  
**–¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è:** Bug Fix (Critical)

