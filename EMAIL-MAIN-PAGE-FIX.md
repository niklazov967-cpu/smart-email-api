# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ü–æ–∏—Å–∫ email –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–∞–π—Ç–∞

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. Stage 3: –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_extractMainDomain()`
–ò–∑–≤–ª–µ–∫–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π –¥–æ–º–µ–Ω –∏–∑ –ª—é–±–æ–≥–æ URL:
- `https://company.com/blog/article` ‚Üí `https://company.com`
- `https://company.com/products/item` ‚Üí `https://company.com`

### 2. Stage 3: –û–±–Ω–æ–≤–ª–µ–Ω –ø—Ä–æ–º–ø—Ç
–¢–µ–ø–µ—Ä—å —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–∏—Å–∫ –Ω–∞ **–ì–õ–ê–í–ù–û–ô –°–¢–†–ê–ù–ò–¶–ï**:
```
–ì–õ–ê–í–ù–ê–Ø –°–¢–†–ê–ù–ò–¶–ê –°–ê–ô–¢–ê: https://company.com
–ò–°–•–û–î–ù–´–ô URL: https://company.com/blog/article

–ó–∞–¥–∞—á–∞: –ù–∞–π–¥–∏ EMAIL –Ω–∞ –ì–õ–ê–í–ù–û–ô –°–¢–†–ê–ù–ò–¶–ï (–ù–ï –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ç–∞—Ç—å—è—Ö/–±–ª–æ–≥–∞—Ö)
```

### 3. Stage 2: –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω `_extractMainDomain()`
- –ü—Ä–æ–º–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### 4. Stage 1: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è URL –±–ª–æ–≥–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω `_isBlogOrArticle()` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–≤–ª—è–µ—Ç—Å—è –ª–∏ URL –±–ª–æ–≥–æ–º/—Å—Ç–∞—Ç—å–µ–π
- –î–æ–±–∞–≤–ª–µ–Ω `_extractMainDomain()`  
- –õ–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞: –µ—Å–ª–∏ Perplexity –≤–µ—Ä–Ω—É–ª URL –±–ª–æ–≥–∞ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω—ã–π –¥–æ–º–µ–Ω
- –ü—Ä–æ–º–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è
**–ö–æ–º–ø–∞–Ω–∏—è:** ‰∏úËéû‰øäËã±Âà∂ÈÄ†ÊúâÈôêÂÖ¨Âè∏  
**–ü—Ä–æ–±–ª–µ–º–∞:** URL –±–ª–æ–≥–∞ –≤–º–µ—Å—Ç–æ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã  
**–î–æ:** `https://www.rapiddirect.com/zh-CN/blog/cnc-machining-company-in-china/`  
**–ü–æ—Å–ª–µ:** `https://www.rapiddirect.com` (–±—É–¥–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ Stage 3
- Email –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω: `info@rapiddirect.com`
- –ò—Å—Ç–æ—á–Ω–∏–∫: –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ / footer

---

## üîÑ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—á–∏—Å—Ç–∏—Ç—å Stage 3 –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏

1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –≤ Supabase SQL Editor:
```sql
UPDATE pending_companies
SET 
  email = NULL,
  contacts_json = NULL,
  stage3_raw_data = NULL,
  stage = 'website_found',
  updated_at = NOW()
WHERE company_name = '‰∏úËéû‰øäËã±Âà∂ÈÄ†ÊúâÈôêÂÖ¨Âè∏'
  AND session_id = '52d0a83e-dcdd-4754-8b9f-cb7843741395';
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Stage 3 —á–µ—Ä–µ–∑ API:
```bash
curl -X POST 'http://localhost:3030/api/sessions/52d0a83e-dcdd-4754-8b9f-cb7843741395/process-stage/3'
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```bash
curl -s 'http://localhost:3030/api/debug/companies' | jq '.companies[] | select(.company_name == "‰∏úËéû‰øäËã±Âà∂ÈÄ†ÊúâÈôêÂÖ¨Âè∏") | {company_name, website, email}'
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é —Å —Ç–µ–º –∂–µ –∑–∞–ø—Ä–æ—Å–æ–º
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å—Ç–∞–¥–∏–∏ –ø–æ–¥—Ä—è–¥
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ website —Å–æ–¥–µ—Ä–∂–∏—Ç –≥–ª–∞–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∞ –Ω–µ –±–ª–æ–≥–∏

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- ‚úÖ –ö–æ–¥ –∏–∑–º–µ–Ω–µ–Ω –≤–æ –≤—Å–µ—Ö 3 —Å—Ç–∞–¥–∏—è—Ö (Stage1, Stage2, Stage3)
- ‚úÖ –õ–∏–Ω—Ç–µ—Ä –ø—Ä–æ–≤–µ—Ä–µ–Ω - –æ—à–∏–±–æ–∫ –Ω–µ—Ç
- ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üéØ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞
Stage 3 –ø–æ–ª—É—á–∞–ª URL –≤–∏–¥–∞:
```
https://www.rapiddirect.com/zh-CN/blog/cnc-machining-company-in-china/
```

–ò –∏—Å–∫–∞–ª email **–Ω–∞ —ç—Ç–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –±–ª–æ–≥–∞**, –≥–¥–µ email –Ω–µ—Ç.

### –†–µ—à–µ–Ω–∏–µ
–¢–µ–ø–µ—Ä—å Stage 3:
1. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π –¥–æ–º–µ–Ω: `https://www.rapiddirect.com`
2. –ò—â–µ—Ç email –Ω–∞ **–≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ**
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç footer, —Ä–∞–∑–¥–µ–ª "Contact Us"
4. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç site-search: `site:rapiddirect.com email`

---

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `src/stages/Stage3AnalyzeContacts.js`
   - –î–æ–±–∞–≤–ª–µ–Ω `_extractMainDomain()`
   - –û–±–Ω–æ–≤–ª–µ–Ω –ø—Ä–æ–º–ø—Ç –≤ `_analyzeContacts()`

2. `src/stages/Stage2FindWebsites.js`
   - –î–æ–±–∞–≤–ª–µ–Ω `_extractMainDomain()`
   - –û–±–Ω–æ–≤–ª–µ–Ω –ø—Ä–æ–º–ø—Ç –≤ `_findWebsite()`

3. `src/stages/Stage1FindCompanies.js`
   - –î–æ–±–∞–≤–ª–µ–Ω `_isBlogOrArticle()`
   - –î–æ–±–∞–≤–ª–µ–Ω `_extractMainDomain()`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤ `_parseResponse()`
   - –û–±–Ω–æ–≤–ª–µ–Ω –ø—Ä–æ–º–ø—Ç –≤ `_createPrompt()`

4. `database/clear-stage3-for-test-company.sql`
   - SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ Stage 3 –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏

---

**–î–∞—Ç–∞:** 28 –Ω–æ—è–±—Ä—è 2024  
**–í–µ—Ä—Å–∏—è:** 1.2  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

